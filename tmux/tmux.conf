unbind r
bind r source-file ~/.config/tmux/tmux.conf

# Start Fish as login shell in all panes
set-option -g default-command "fish -l"

set -g prefix ^A

set -g xterm-keys on
set -g mouse on
set -g default-terminal "xterm-256color"
set -ag terminal-overrides ",xterm-256color:Tc"

set -g base-index 1
set -g pane-base-index 1

set -g status-right-length 100
set -g status-left-length 100
set -g status-left ""

# Needed by image plugin to show the floating image in the terminal
set -gq allow-passthrough on

# Bindings for splitting panes
unbind '"'
bind s split-window -h 

unbind %
bind S split-window -v 


set -g @thm_bg "#1e1e2e"
set -g @thm_fg "#cdd6f4"
set -g @thm_cyan "#89dceb"
set -g @thm_black "#181825"
set -g @thm_gray "#474747"
set -g @thm_pink "#f5c2e7"
set -g @thm_red "#f38ba8"
set -g @thm_green "#a6e3a1"
set -g @thm_yellow "#f9e2af"
set -g @thm_blue "#89b4fa"
set -g @thm_orange "#fab387"
set -g @thm_black4 "#585b70"
set -g @thm_dblue "#2f5dba"
set -g @thm_mauve "#cba6f7"
set -g @thm_transparent "#000000"
set -g @thm_kittybg "#0E121A"

# Sessionx Configuration
# set -g @sessionx-bind 'o'
# set -g @sessionx-zoxide-mode 'on'
# set -g @sessionx-preview-location 'right'
# set -g @sessionx-filter-current 'false'

# tmux plugin manager
# set -g @plugin 'catppuccin/tmux#v2.1.3'

set -g @plugin 'tmux-plugins/tpm' # must be the first plugin
set -g @plugin "christoomey/vim-tmux-navigator"

set -g @plugin 'omerxx/tmux-sessionx' # default keybind "<prefix> O" to activate
set -g @plugin "tmux-plugins/tmux-resurrect" #persist tmux sessions after computer restart
set -g @plugin "tmux-plugins/tmux-continuum" #automatically save sessions every 15mins
set -g @plugin 'tmux-plugins/tmux-cpu'

set -g @plugin 'tmux-plugins/tmux-online-status'
set -g @plugin 'tmux-plugins/tmux-battery'
# set -g @plugin 'vascomfnunes/tmux-clima'
set -g @plugin 'jeffnguyen695/tmux-zoxide-session'

set -g @sessionx-bind 'o'
set -g @resurrect-capture-pane-contents "on"
set -g @continuum-restore "off"

set -g @catppuccin_status_fill "all"
#
set -g @catppuccin_status_default "on"

# set -gu window-status-format
# set -gu window-status-current-format
# set -gu window-status-style
# set -gu window-status-current-style
# set -gu window-status-separator

# Configure Online status
set -g @online_icon "ok"
set -g @offline_icon "nok"
#
# # Clima
# # set -g @clima_location "Mumbai,IN"
# # set -g @clima_unit "metric"
# # set -g @clima_use_nerd_font 1
# # set -g @clima_ttl 30
# # set -g @clima_show_icon 1
#
# # Configure window resizing options
bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5
bind -r h resize-pane -L 5
bind -r m resize-pane -Z # Maximize the pane
#
# # status left look and feel
set -g status-left-length 100
set -g status-left ""

set -g status-position top
set -g status-style "bg=default,fg=default"
set -g status-justify "left"
# set -ga status-left "#{?client_prefix,#{#[bg=#{@thm_red},fg=#{@thm_bg},bold]  #S },#{#[bg=#{@thm_bg},fg=#{@thm_green}]  #S }}"
# set -ga status-left "#[bg=#{@thm_bg},fg=#{@thm_overlay_0},none]│"
set -ga status-left "#[fg=#{@thm_green},bg=#{@thm_kittybg}]"
set -ga status-left "#[fg=#{@thm_bg},bg=#{@thm_green},bold]   #S "
set -ga status-left "#[fg=#{@thm_green},bg=#{@thm_kittybg}] "
# set -ga status-left "#[bg=#{@thm_bg},fg=#{@thm_blue}]  #{=/-32/...:#{s|$USER|~|:#{b:pane_current_path}}} "
# set -ga status-left "#[bg=#{@thm_bg},fg=#{@thm_overlay_0},none]#{?window_zoomed_flag,│,}"
# set -ga status-left "#[bg=#{@thm_bg},fg=#{@thm_yellow}]#{?window_zoomed_flag,  zoom ,}"

# # status right look and feel
set -g status-right-length 100
set -g status-right ""

# # Online/offline segment
# set -ga status-right "#[fg=#{@thm_mauve},bg=#{@thm_bg}]"
# set -ga status-right "#[fg=#{@thm_bg},bg=#{@thm_mauve}] #{?#{==:#{online_status},ok},󰖩 on,󰖪 off} "
# set -ga status-right "#[fg=#{@thm_mauve},bg=#{@thm_bg}]"
#
# # # CPU segment
# set -ga status-right "#[fg=#{@thm_peach},bg=#{@thm_bg}]"
# set -ga status-right "#[fg=#{@thm_bg},bg=#{@thm_peach}] CPU: #{cpu_icon} #{cpu_percentage} "
# set -ga status-right "#[fg=#{@thm_peach},bg=#{@thm_bg}]"

# Configure Tmux
# Inactive windows
set -g window-status-format "#[fg=#{@thm_gray},bg=#{@thm_black}]#[fg=#{@thm_fg},bg=#{@thm_gray}]#W #[fg=#{@thm_bg},bg=#{@thm_mauve}] #I#[fg=#{@thm_mauve},bg=#{@thm_bg}]"
set -g window-status-style "bg=default,fg=#{@thm_bg}"

# Active window
set -g window-status-current-format "#[fg=#{@thm_gray},bg=#{@thm_black}]#[fg=#{@thm_fg},bg=#{@thm_gray}]#W #[fg=#{@thm_bg},bg=#{@thm_orange}] #I#[fg=#{@thm_orange},bg=#{@thm_bg}]"
set -g window-status-current-style "fg=#{@thm_bg},bg=default,bold"


set -gF window-status-separator " "

# pane border look and feel
setw -g pane-border-status "off"
# setw -g pane-border-format ""
# setw -g pane-active-border-style "bg=#{@thm_bg},fg=#{@thm_overlay_0}"
# # setw -g pane-border-style "bg=#{@thm_bg},fg=#{@thm_surface_0}"
setw -g pane-border-lines double
set -g pane-border-indicators both
set -g pane-border-style "fg=#{@thm_gray}"
set -g pane-active-border-style "fg=#{@thm_blue}"
#
# # window look and feel
set -wg automatic-rename on
set -g automatic-rename-format "#{pane_current_command}"

run '~/.config/tmux/plugins/tpm/tpm'

